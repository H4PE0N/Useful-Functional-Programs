
BINARY_PROGRAM_NAME := program

SOURCE_PROGRAMS_FOLDER := ../src
OBJECT_PROGRAMS_FOLDER := ../obj

SOURCE_PROGRAMS_ARRAY := $(wildcard $(SOURCE_PROGRAMS_FOLDER)/*.c)
OBJECT_PROGRAMS_ARRAY := $(patsubst $(SOURCE_PROGRAMS_FOLDER)/%.c, \
$(OBJECT_PROGRAMS_FOLDER)/%.o, $(SOURCE_PROGRAMS_ARRAY))

COMPILOR := gcc
COMPILING_FLAGS := -Wall -Werror

$(BINARY_PROGRAM_NAME): $(OBJECT_PROGRAMS_ARRAY)
	$(COMPILOR) $(COMPILING_FLAGS) $^ -o $@

$(OBJECT_PROGRAMS_FOLDER)/%.o: $(SOURCE_PROGRAMS_FOLDER)/%.c
	$(COMPILOR) $(COMPILING_FLAGS) $^ -c -o $@
