
# THE NAME OF THE EXECUTABLE FILE THAT WILL BE  CREATED
BINARY_PROGRAM_NAME := string-morse-conversion
#THIS IS THE FOLDER WHERE ALL OF THE SOURCE PROGRAMS IS
SOURCE_PROGRAMS_FOLDER := Source-Programs-Folder
#THIS IS THE FOLDER TO STORE ALL OF THE OBJECT PROGRAMS
OBJECT_PROGRAMS_FOLDER := Object-Programs-Folder

#CREATES AN ARRAY OF ALL SOURCE FILES NEEDED TO COMPILE
SOURCE_PROGRAMS_ARRAY :=$(wildcard $(SOURCE_PROGRAMS_$\
FOLDER)/*.c)
# CREATES AN ARRAY OF ALL HEADER FILES (WHEN COMPILING)
SOURCE_HEADERS_ARRAY := $(wildcard $(SOURCE_PROGRAMS_$\
FOLDER)/*.h)
#CREATES AN ARRAY OF ALL OBJECT FILES NEEDED TO COMPILE
OBJECT_PROGRAMS_ARRAY :=$(patsubst $(SOURCE_PROGRAMS_$\
FOLDER)/%.c, $(OBJECT_PROGRAMS_FOLDER)/%.o, $(SOURCE_$\
PROGRAMS_ARRAY))

# THIS IS THE COMPILOR USED TO COMPILE THE EXE:BLE FILE
COMPILING_COMPILOR := gcc
# THESE ARE THE FLAGS USED TO COMPILE THE EXE:BLE  FILE
COMPILING_FLAGS := -Werror
# THIS IS THE COMMAND FOR CREATING A  FOLDER  SOMEWHERE
CREATE_FOLDER := @mkdir

#THIS TARGET CREATES THE EXECUTABLE FILE FROM OBJ FILES
$(BINARY_PROGRAM_NAME): $(OBJECT_PROGRAMS_ARRAY)
	$(COMPILING_COMPILOR) $(COMPILING_FLAGS) $< -o $@

# THIS TARGET CREATES AN OBJECT PROGRAM FROM THE SOURCE
$(OBJECT_PROGRAMS_FOLDER)/%.o: $(SOURCE_PROGRAMS_FOLDER)/%.c $(OBJECT_PROGRAMS_FOLDER) $(SOURCE_HEADERS_ARRAY)
	$(COMPILING_COMPILOR) $(COMPILING_FLAGS) $< -c -o $@

#THIS TARGET CREATES THE FOLDER FOR THE OBJECT PROGRAMS
$(OBJECT_PROGRAMS_FOLDER):; $(CREATE_FOLDER) -p $@
