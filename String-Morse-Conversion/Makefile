
BINARY_PROGRAM_NAME := string-morse-conversion

SOURCE_PROGRAMS_FOLDER := Source-Programs-Folder
OBJECT_PROGRAMS_FOLDER := Object-Programs-Folder

SOURCE_PROGRAMS_ARRAY := $(wildcard $(SOURCE_PROGRAMS_FOLDER)/*.c)
SOURCE_HEADERS_ARRAY := $(wildcard $(SOURCE_PROGRAMS_FOLDER)/*.h)
OBJECT_PROGRAMS_ARRAY := $(patsubst $(SOURCE_PROGRAMS_FOLDER)/%.c, $(OBJECT_PROGRAMS_FOLDER)/%.o, $(SOURCE_PROGRAMS_ARRAY))

COMPILOR := gcc
COMPILING_FLAGS := -Wall -Werror

$(BINARY_PROGRAM_NAME): $(OBJECT_PROGRAMS_ARRAY) $(SOURCE_HEADERS_ARRAY)
	$(COMPILOR) $(COMPILING_FLAGS) $< -o $@

$(OBJECT_PROGRAMS_FOLDER)/%.o: $(SOURCE_PROGRAMS_FOLDER)/%.c $(OBJECT_PROGRAMS_FOLDER)
	$(COMPILOR) $(COMPILING_FLAGS) $< -c -o $@

$(OBJECT_PROGRAMS_FOLDER):; @mkdir -p $@
